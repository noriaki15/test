<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <a-scene embedded arjs>
        <!-- 카메라 설정 -->
        <a-entity camera></a-entity>

        <!-- 마커를 인식할 영역 (여기서는 Hiro 마커를 사용) -->
        <a-marker preset="hiro">
            <!-- 3D 모델 (마커의 위치에 배치) -->
            <a-entity id="model" 
                      gltf-model="yamadakkkkkkkkk.gltf" 
                      scale="0.5 0.5 0.5" 
                      position="0 0 0" 
                      rotation="0 0 0">
            </a-entity>
        </a-marker>

        <!-- 고정된 위치에 계속 표시될 모델 -->
        <a-entity id="fixedModel" 
                  gltf-model="yamadakkkkkkkkk.gltf" 
                  scale="0.5 0.5 0.5" 
                  position="0 0 -3" 
                  rotation="0 0 0">
        </a-entity>
    </a-scene>

    <script>
        // 모델과 마커 참조
        let model = document.getElementById('model');  // 마커에 붙은 모델
        let fixedModel = document.getElementById('fixedModel');  // 고정된 모델
        let marker = document.querySelector('a-marker');  // 마커 요소

        // 마커가 발견되면 실행되는 이벤트 리스너
        marker.addEventListener('markerFound', () => {
            // 마커의 3D 위치를 가져옵니다.
            let markerPosition = marker.object3D.position;

            // 모델을 마커의 위치에 배치
            fixedModel.setAttribute('position', {
                x: markerPosition.x + 2,  // 마커의 앞 2미터
                y: markerPosition.y,      // 높이는 동일
                z: markerPosition.z       // 마커의 z위치
            });

            // 마커에 붙어있는 모델은 더 이상 필요하지 않음 (숨김 처리)
            model.setAttribute('visible', false);  // 마커에 붙은 모델은 더 이상 표시되지 않도록 함
        });
    </script>
</body>
</html>
